<%@ page language="C#" autoeventwireup="true" inherits="View_hmap02_011a, App_Web_drtrsv5c" %>

<!DOCTYPE html>

<html xmlns="https://www.w3.org/1999/xhtml">

<head id="Head1" runat="server">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>熱點圖</title>
    <style type="text/css">
        body, html {
            margin:0;
            padding:0;
            font-family:Arial;
        }
        h1 {
            margin-bottom:10px;
        }
        #main {
            position:relative;
            width:520px;
            padding:20px;
            margin:auto;
        }
        #heatmapArea {
            position:relative;
            float:left;
            width:500px;
            height:900px;
            border:1px dashed black;
        }
        #configArea {
            position:relative;
            float:left;
            width:200px;
            padding:15px;
            padding-top:0;
            padding-right:0;
        }
        .btn {
            margin-top:25px;
            padding:10px 20px 10px 20px;
            -moz-border-radius:15px;
            -o-border-radius:15px;
            -webkit-border-radius:15px;
            border-radius:15px;
            border:2px solid black;
            cursor:pointer;
            color:white;
            background-color:black;
        }
        #gen:hover{
            background-color:grey;
            color:black;
        }
        textarea{
            width:260px;
            padding:10px;
            height:200px;
        }
        h2{
            margin-top:0;
        }
 </style>
</head>

<script src="../Scripts/heatmap/rkData.js"></script>
<script src="../Scripts/heatmap/OpenLayers.js"></script>
<script type="text/javascript" src="../Scripts/heatmap/heatmap.js"></script>
<script type="text/javascript" src="../Scripts/heatmap/heatmap-openlayers-renderer.js"></script>

<body onload = "init()">
    
    
    <div id="main">
        <div id="heatmapArea">
        </div>
    </div>
    <form id="form1" runat="server">
        <asp:TextBox ID="hmapxy" runat="server" Text="" Visible="True" width="400"/>
        
    </form>
    
</body>


<script type="text/javascript">
    var map, layer, heatmap;

    function init() {

        //var data = rkData;
        //var data = '[{"lat":"25.03223","lng":"121.29004","count":2},{"lat":"25.01415","lng":"121.26785","count":2},{"lat":"25.02559","lng":"121.2819","count":2},{"lat":"25.00303","lng":"121.25353","count":1},{"lat":"25.03049","lng":"121.28775","count":3},{"lat":"25.0328","lng":"121.29081","count":3},{"lat":"25.04686","lng":"121.31853","count":1},{"lat":"25.04652","lng":"121.3176","count":2},{"lat":"25.12181","lng":"121.73506","count":1063},{"lat":"25.02747","lng":"121.28405","count":1},{"lat":"25.06447","lng":"121.35951","count":2},{"lat":"25.06478","lng":"121.36621","count":3},{"lat":"25.0433","lng":"121.30937","count":1},{"lat":"25.06448","lng":"121.36247","count":3},{"lat":"25.01756","lng":"121.27247","count":2},{"lat":"25.06478","lng":"121.35356","count":2},{"lat":"25.03962","lng":"121.30133","count":2},{"lat":"25.06348","lng":"121.33888","count":4},{"lat":"25.02245","lng":"121.27832","count":1},{"lat":"25.02931","lng":"121.28624","count":1},{"lat":"25.04464","lng":"121.31192","count":3},{"lat":"25.0237","lng":"121.27976","count":1},{"lat":"25.05971","lng":"121.33209","count":2},{"lat":"25.06529","lng":"121.34538","count":3},{"lat":"25.00631","lng":"121.28212","count":2},{"lat":"24.97531","lng":"121.2946","count":1},{"lat":"25.01946","lng":"121.27261","count":4},{"lat":"25.03251","lng":"121.24256","count":1},{"lat":"25.03113","lng":"121.24517","count":1},{"lat":"24.97548","lng":"121.29362","count":2},{"lat":"24.97515","lng":"121.29559","count":2},{"lat":"25.01357","lng":"121.2671","count":1},{"lat":"25.0124","lng":"121.26559","count":1},{"lat":"25.06271","lng":"121.2143","count":1},{"lat":"24.97746","lng":"121.28802","count":1},{"lat":"25.06573","lng":"121.21807","count":19},{"lat":"25.03716","lng":"121.22875","count":1},{"lat":"25.03806","lng":"121.2259","count":1},{"lat":"25.06452","lng":"121.21656","count":5},{"lat":"25.06401","lng":"121.21571","count":1},{"lat":"25.04485","lng":"121.21918","count":2},{"lat":"25.00801","lng":"121.28135","count":3},{"lat":"24.96831","lng":"121.31929","count":1},{"lat":"24.97323","lng":"121.30749","count":2},{"lat":"25.03065","lng":"121.24604","count":1},{"lat":"24.98651","lng":"121.28188","count":1},{"lat":"24.98561","lng":"121.28206","count":2},{"lat":"24.90691","lng":"121.28206","count":2},{"lat":"25.0271","lng":"121.25824","count":1},{"lat":"25.02712","lng":"121.26025","count":2},{"lat":"24.99631","lng":"121.24552","count":1},{"lat":"25.03109","lng":"121.24552","count":1},{"lat":"24.92636","lng":"121.17254","count":4},{"lat":"24.98424","lng":"121.23355","count":2},{"lat":"24.95654","lng":"121.19974","count":1},{"lat":"24.91509","lng":"121.16664","count":1},{"lat":"24.94318","lng":"121.1941","count":2},{"lat":"25.1218","lng":"121.73517","count":346},{"lat":"24.93686","lng":"121.19069","count":1},{"lat":"24.92351","lng":"121.17012","count":2},{"lat":"24.995","lng":"121.24416","count":1},{"lat":"24.98952","lng":"121.23895","count":2},{"lat":"24.99235","lng":"121.24147","count":2},{"lat":"24.98438","lng":"121.23344","count":3},{"lat":"24.96476","lng":"121.21019","count":1},{"lat":"24.98488","lng":"121.23423","count":1},{"lat":"24.91147","lng":"121.16555","count":1},{"lat":"24.92548","lng":"121.17202","count":1},{"lat":"24.98187","lng":"121.23059","count":1},{"lat":"24.97737","lng":"121.22567","count":2},{"lat":"24.91423","lng":"121.16633","count":1},{"lat":"24.99827","lng":"121.24757","count":1},{"lat":"24.96279","lng":"121.20685","count":1},{"lat":"24.9289","lng":"121.17659","count":1},{"lat":"24.97985","lng":"121.22857","count":3},{"lat":"24.9718","lng":"121.21921","count":5},{"lat":"24.92333","lng":"121.17024","count":1},{"lat":"24.95598","lng":"121.19903","count":2},{"lat":"24.9726","lng":"121.21977","count":3},{"lat":"24.96827","lng":"121.21471","count":2},{"lat":"24.9486","lng":"121.19545","count":2},{"lat":"24.92808","lng":"121.17483","count":1},{"lat":"24.92858","lng":"121.17565","count":1},{"lat":"24.93036","lng":"121.18022","count":1},{"lat":"24.98296","lng":"121.23215","count":2},{"lat":"24.97076","lng":"121.21759","count":3},{"lat":"24.93003","lng":"121.1793","count":1},{"lat":"24.98063","lng":"121.22915","count":2},{"lat":"24.91595","lng":"121.16694","count":2},{"lat":"24.93615","lng":"121.19008","count":1},{"lat":"24.95862","lng":"121.20165","count":1},{"lat":"24.98372","lng":"121.23275","count":1},{"lat":"24.91766","lng":"121.16755","count":2},{"lat":"24.97939","lng":"121.22771","count":2},{"lat":"24.97303","lng":"121.22066","count":3},{"lat":"24.97014","lng":"121.21687","count":2},{"lat":"24.95741","lng":"121.20023","count":4},{"lat":"24.809","lng":"121.20023","count":2},{"lat":"24.9763","lng":"121.22409","count":4},{"lat":"24.98047","lng":"121.2293","count":2},{"lat":"24.96315","lng":"121.20781","count":1},{"lat":"24.97241","lng":"121.21994","count":2},{"lat":"24.96045","lng":"121.20383","count":3},{"lat":"24.952","lng":"121.1967","count":3},{"lat":"24.98125","lng":"121.22987","count":2},{"lat":"24.95941","lng":"121.20221","count":8},{"lat":"24.89274","lng":"121.11841","count":4},{"lat":"24.91576","lng":"121.16708","count":1},{"lat":"24.97322","lng":"121.22049","count":2},{"lat":"24.97199","lng":"121.21904","count":3},{"lat":"24.93548","lng":"121.18943","count":3},{"lat":"24.95117","lng":"121.19634","count":1},{"lat":"24.91852","lng":"121.16785","count":3},{"lat":"24.96331","lng":"121.20767","count":2},{"lat":"24.97552","lng":"121.22352","count":2},{"lat":"24.97427","lng":"121.22209","count":2},{"lat":"24.98902","lng":"121.23814","count":1},{"lat":"25.00014","lng":"121.24972","count":1},{"lat":"24.96545","lng":"121.21086","count":2},{"lat":"24.90977","lng":"121.16495","count":4},{"lat":"24.96933","lng":"121.21631","count":2},{"lat":"24.96174","lng":"121.20524","count":1},{"lat":"24.9458","lng":"121.19483","count":1},{"lat":"24.92737","lng":"121.17414","count":2},{"lat":"24.9689","lng":"121.21543","count":2},{"lat":"24.95724","lng":"121.20037","count":3},{"lat":"24.96599","lng":"121.21165","count":1},{"lat":"24.9317","lng":"121.1839","count":3},{"lat":"24.93898","lng":"121.19239","count":1},{"lat":"24.9749","lng":"121.2228","count":4},{"lat":"24.95015","lng":"121.19616","count":2},{"lat":"24.9681","lng":"121.21486","count":4},{"lat":"24.85894","lng":"121.21486","count":2},{"lat":"24.89705","lng":"121.14056","count":2},{"lat":"25.0287","lng":"121.28552","count":3},{"lat":"24.97056","lng":"121.21776","count":3},{"lat":"25.02708","lng":"121.25622","count":1},{"lat":"24.95671","lng":"121.19961","count":3},{"lat":"24.80636","lng":"121.19961","count":1},{"lat":"24.95878","lng":"121.2015","count":2},{"lat":"25.03671","lng":"121.29629","count":2},{"lat":"24.96004","lng":"121.20293","count":1},{"lat":"24.96119","lng":"121.20446","count":1},{"lat":"25.06464","lng":"121.36741","count":2},{"lat":"25.03771","lng":"121.29795","count":1},{"lat":"24.98703","lng":"121.23614","count":3},{"lat":"25.00057","lng":"121.2506","count":3},{"lat":"25.04162","lng":"121.22103","count":4},{"lat":"24.94773","lng":"121.19518","count":2},{"lat":"24.96693","lng":"121.21336","count":1},{"lat":"24.87623","lng":"121.04685","count":3},{"lat":"25.02136","lng":"121.27674","count":5},{"lat":"25.06509","lng":"121.3466","count":3},{"lat":"25.04638","lng":"121.31652","count":1},{"lat":"24.95505","lng":"121.19863","count":2},{"lat":"24.91833","lng":"121.16801","count":1},{"lat":"24.9621","lng":"121.20618","count":1},{"lat":"24.8486","lng":"121.01841","count":3},{"lat":"25.02638","lng":"121.28247","count":1},{"lat":"25.00469","lng":"121.28247","count":1},{"lat":"25.00455","lng":"121.28273","count":2},{"lat":"24.97877","lng":"121.22699","count":1},{"lat":"24.85166","lng":"121.01503","count":2},{"lat":"25.00246","lng":"121.25277","count":2},{"lat":"25.05314","lng":"121.21548","count":4},{"lat":"25.06464","lng":"121.34264","count":1},{"lat":"25.04307","lng":"121.22024","count":1},{"lat":"25.02835","lng":"121.25077","count":1},{"lat":"24.89666","lng":"121.1386","count":2},{"lat":"24.87587","lng":"121.05963","count":1},{"lat":"24.8761","lng":"121.04974","count":3},{"lat":"24.83708","lng":"121.02229","count":2},{"lat":"24.83174","lng":"121.02139","count":5},{"lat":"24.80936","lng":"121.01063","count":2},{"lat":"24.81685","lng":"121.01346","count":1},{"lat":"24.84797","lng":"121.01938","count":2},{"lat":"24.85759","lng":"121.01083","count":1},{"lat":"24.87581","lng":"121.05178","count":6},{"lat":"24.88265","lng":"121.07555","count":2},{"lat":"24.88331","lng":"121.07739","count":4},{"lat":"24.89265","lng":"121.1214","count":1},{"lat":"24.90583","lng":"121.1629","count":2},{"lat":"24.89565","lng":"121.13479","count":2},{"lat":"24.89294","lng":"121.1077","count":3},{"lat":"24.86763","lng":"121.01501","count":2},{"lat":"24.84157","lng":"121.02206","count":2},{"lat":"24.82184","lng":"121.01637","count":3},{"lat":"24.83779","lng":"121.0225","count":3},{"lat":"24.86519","lng":"121.01335","count":3},{"lat":"24.87661","lng":"121.03893","count":1},{"lat":"24.87872","lng":"121.06894","count":1},{"lat":"24.88226","lng":"121.07466","count":1},{"lat":"24.88356","lng":"121.07835","count":2},{"lat":"24.88441","lng":"121.08619","count":1},{"lat":"24.89261","lng":"121.12043","count":1},{"lat":"24.90091","lng":"121.15481","count":4},{"lat":"24.90223","lng":"121.15849","count":1},{"lat":"24.88566","lng":"121.0909","count":6},{"lat":"24.86679","lng":"121.0143","count":3},{"lat":"24.75477","lng":"121.0143","count":1},{"lat":"24.87574","lng":"121.05277","count":3},{"lat":"24.90116","lng":"121.15576","count":2},{"lat":"24.86742","lng":"121.01504","count":2},{"lat":"24.85176","lng":"121.01469","count":1},{"lat":"24.89477","lng":"121.13199","count":1},{"lat":"24.8973","lng":"121.14151","count":3},{"lat":"24.87587","lng":"121.03102","count":1},{"lat":"24.87321","lng":"121.0226","count":3},{"lat":"24.85369","lng":"121.0126","count":1},{"lat":"24.83262","lng":"121.02162","count":2},{"lat":"24.81783","lng":"121.01386","count":2},{"lat":"24.80758","lng":"121.01026","count":3},{"lat":"24.8396","lng":"121.02245","count":3},{"lat":"24.85584","lng":"121.01134","count":2},{"lat":"24.87476","lng":"121.02726","count":1},{"lat":"24.87659","lng":"121.0359","count":2},{"lat":"24.86522","lng":"121.01317","count":2},{"lat":"24.85237","lng":"121.01395","count":1},{"lat":"24.83888","lng":"121.02231","count":2},{"lat":"24.87118","lng":"121.01929","count":1},{"lat":"24.8696","lng":"121.01702","count":2},{"lat":"24.84917","lng":"121.01773","count":2},{"lat":"24.822","lng":"121.01631","count":3},{"lat":"24.89296","lng":"121.12329","count":1},{"lat":"24.89285","lng":"121.12232","count":1},{"lat":"24.89285","lng":"121.11646","count":4},{"lat":"24.89121","lng":"121.10108","count":1},{"lat":"24.86599","lng":"121.01369","count":5},{"lat":"24.836","lng":"121.02236","count":3},{"lat":"24.84405","lng":"121.02172","count":2},{"lat":"24.87278","lng":"121.02172","count":1},{"lat":"24.85104","lng":"121.01575","count":4},{"lat":"24.84228","lng":"121.02211","count":2},{"lat":"24.75417","lng":"121.02211","count":2},{"lat":"24.88636","lng":"121.09273","count":2},{"lat":"24.8449","lng":"121.02142","count":1},{"lat":"24.89259","lng":"121.11945","count":1},{"lat":"24.90192","lng":"121.15754","count":1},{"lat":"24.80738","lng":"121.01033","count":1},{"lat":"24.83689","lng":"121.02243","count":1},{"lat":"24.8387","lng":"121.02248","count":2},{"lat":"24.89603","lng":"121.13675","count":2},{"lat":"24.90283","lng":"121.15926","count":1},{"lat":"24.89717","lng":"121.1405","count":4},{"lat":"24.89615","lng":"121.13669","count":1},{"lat":"24.89272","lng":"121.11939","count":2},{"lat":"24.89261","lng":"121.10578","count":4},{"lat":"24.89238","lng":"121.10482","count":1},{"lat":"24.89215","lng":"121.10386","count":3},{"lat":"24.77884","lng":"121.10386","count":2},{"lat":"24.80827","lng":"121.01053","count":1},{"lat":"24.80915","lng":"121.01073","count":1},{"lat":"24.82105","lng":"121.01586","count":3},{"lat":"24.83244","lng":"121.02171","count":4},{"lat":"24.87589","lng":"121.05079","count":2},{"lat":"24.87562","lng":"121.05574","count":1},{"lat":"24.87574","lng":"121.0597","count":2},{"lat":"24.88938","lng":"121.09765","count":3},{"lat":"24.90235","lng":"121.15842","count":1},{"lat":"24.88447","lng":"121.08514","count":5},{"lat":"24.87626","lng":"121.03296","count":2},{"lat":"24.83619","lng":"121.02223","count":2},{"lat":"24.89071","lng":"121.10024","count":2},{"lat":"24.89306","lng":"121.11067","count":1},{"lat":"24.89265","lng":"121.1175","count":1},{"lat":"24.89273","lng":"121.12037","count":1},{"lat":"24.89292","lng":"121.11549","count":4},{"lat":"24.89157","lng":"121.10199","count":2},{"lat":"24.88997","lng":"121.09844","count":1},{"lat":"24.90446","lng":"121.16162","count":2},{"lat":"24.9","lng":"121.15094","count":1},{"lat":"24.89364","lng":"121.12716","count":3},{"lat":"24.88391","lng":"121.07924","count":5},{"lat":"24.88437","lng":"121.08316","count":1},{"lat":"24.87882","lng":"121.06888","count":4},{"lat":"24.89886","lng":"121.14614","count":1},{"lat":"24.87607","lng":"121.03199","count":3},{"lat":"24.87566","lng":"121.03006","count":3},{"lat":"24.8067","lng":"121.0101","count":2},{"lat":"24.87309","lng":"121.02266","count":1},{"lat":"24.8756","lng":"121.05673","count":2},{"lat":"24.90741","lng":"121.16383","count":1},{"lat":"24.87936","lng":"121.06967","count":3},{"lat":"24.8722","lng":"121.02093","count":1},{"lat":"24.87569","lng":"121.05376","count":3},{"lat":"24.75859","lng":"121.05376","count":2},{"lat":"24.87652","lng":"121.04481","count":1},{"lat":"24.87361","lng":"121.02349","count":1},{"lat":"24.85757","lng":"121.01064","count":2},{"lat":"24.84423","lng":"121.02152","count":3},{"lat":"24.89451","lng":"121.13104","count":3},{"lat":"24.90431","lng":"121.16171","count":1},{"lat":"24.90722","lng":"121.16399","count":1},{"lat":"24.89641","lng":"121.13764","count":4},{"lat":"24.87594","lng":"121.05172","count":2},{"lat":"24.8926","lng":"121.11847","count":4},{"lat":"24.8933","lng":"121.12626","count":2},{"lat":"24.89529","lng":"121.13388","count":1},{"lat":"24.8767","lng":"121.06453","count":3},{"lat":"24.87822","lng":"121.0681","count":2},{"lat":"24.87978","lng":"121.07053","count":1},{"lat":"24.88087","lng":"121.07212","count":2},{"lat":"24.88424","lng":"121.08322","count":2},{"lat":"24.89691","lng":"121.13955","count":3},{"lat":"24.89314","lng":"121.10964","count":5},{"lat":"24.87789","lng":"121.06718","count":1},{"lat":"24.87619","lng":"121.04876","count":1},{"lat":"24.81455","lng":"121.01227","count":2},{"lat":"24.81959","lng":"121.01483","count":1},{"lat":"24.87636","lng":"121.03499","count":3},{"lat":"24.86898","lng":"121.01632","count":1},{"lat":"24.86043","lng":"121.0108","count":1},{"lat":"24.83439","lng":"121.02201","count":4},{"lat":"24.88418","lng":"121.08224","count":2},{"lat":"24.89268","lng":"121.10679","count":1},{"lat":"24.8799","lng":"121.07047","count":5},{"lat":"24.87602","lng":"121.05073","count":3},{"lat":"24.89953","lng":"121.14903","count":2},{"lat":"24.87598","lng":"121.04981","count":1},{"lat":"24.87659","lng":"121.04091","count":2},{"lat":"24.87656","lng":"121.04191","count":1},{"lat":"24.87386","lng":"121.02445","count":1},{"lat":"24.88193","lng":"121.07373","count":7},{"lat":"24.88145","lng":"121.07289","count":1},{"lat":"24.87575","lng":"121.05766","count":3},{"lat":"24.88379","lng":"121.0793","count":3},{"lat":"24.87577","lng":"121.05468","count":6},{"lat":"24.87645","lng":"121.04579","count":1},{"lat":"24.83002","lng":"121.02081","count":2},{"lat":"24.87669","lng":"121.04184","count":2},{"lat":"24.87674","lng":"121.03986","count":1},{"lat":"24.88431","lng":"121.08218","count":1},{"lat":"24.88096","lng":"121.07207","count":3},{"lat":"24.87232","lng":"121.02087","count":1},{"lat":"24.8267","lng":"121.01927","count":2},{"lat":"24.81284","lng":"121.01163","count":1},{"lat":"24.81111","lng":"121.01109","count":1},{"lat":"24.89628","lng":"121.1377","count":2},{"lat":"24.89342","lng":"121.1262","count":2},{"lat":"24.79131","lng":"121.1262","count":3},{"lat":"24.87561","lng":"121.05772","count":3},{"lat":"24.89579","lng":"121.1358","count":2},{"lat":"24.8761","lng":"121.0616","count":2},{"lat":"24.88697","lng":"121.09349","count":2},{"lat":"24.98636","lng":"121.23546","count":1},{"lat":"24.76876","lng":"121.00259","count":1},{"lat":"24.84317","lng":"121.02194","count":3},{"lat":"24.81864","lng":"121.01431","count":1},{"lat":"24.8763","lng":"121.04586","count":1},{"lat":"24.88398","lng":"121.08027","count":2},{"lat":"24.8847","lng":"121.08814","count":4},{"lat":"24.894","lng":"121.12913","count":2},{"lat":"24.89742","lng":"121.14145","count":1},{"lat":"24.88532","lng":"121.08998","count":3},{"lat":"24.84985","lng":"121.01696","count":2},{"lat":"24.84653","lng":"121.02057","count":1},{"lat":"24.87564","lng":"121.05475","count":4},{"lat":"24.88786","lng":"121.0952","count":1},{"lat":"24.87712","lng":"121.06539","count":4},{"lat":"24.88181","lng":"121.0738","count":2},{"lat":"24.89323","lng":"121.12523","count":1},{"lat":"24.85115","lng":"121.01542","count":3},{"lat":"24.85291","lng":"121.0136","count":1},{"lat":"24.86811","lng":"121.01567","count":2},{"lat":"24.86833","lng":"121.01567","count":1},{"lat":"24.87004","lng":"121.01776","count":3},{"lat":"24.88649","lng":"121.09266","count":2},{"lat":"24.88043","lng":"121.07127","count":1},{"lat":"24.87653","lng":"121.06352","count":1},{"lat":"24.8765","lng":"121.03492","count":1},{"lat":"24.83978","lng":"121.02226","count":2},{"lat":"24.80491","lng":"121.00981","count":1},{"lat":"24.81435","lng":"121.01236","count":3},{"lat":"24.82418","lng":"121.01786","count":2},{"lat":"24.87447","lng":"121.02632","count":5},{"lat":"24.89283","lng":"121.10776","count":1},{"lat":"24.89352","lng":"121.12722","count":1},{"lat":"24.89989","lng":"121.15101","count":1},{"lat":"24.82511","lng":"121.01832","count":1},{"lat":"24.85429","lng":"121.01232","count":2},{"lat":"24.87739","lng":"121.06636","count":2},{"lat":"24.8843","lng":"121.08421","count":3},{"lat":"24.89303","lng":"121.10969","count":1},{"lat":"24.89425","lng":"121.13008","count":1},{"lat":"24.89411","lng":"121.12908","count":1},{"lat":"24.87517","lng":"121.02814","count":1},{"lat":"24.86297","lng":"121.01182","count":1},{"lat":"24.83088","lng":"121.02111","count":1},{"lat":"25.01875","lng":"121.27395","count":2},{"lat":"25.02496","lng":"121.28118","count":1},{"lat":"25.06415","lng":"121.34073","count":1},{"lat":"25.05265","lng":"121.32592","count":2},{"lat":"25.10227","lng":"121.71713","count":5},{"lat":"25.06597","lng":"121.62135","count":8},{"lat":"25.0991","lng":"121.70785","count":5},{"lat":"25.0928","lng":"121.69653","count":1},{"lat":"25.10326","lng":"121.72075","count":4},{"lat":"25.07888","lng":"121.66473","count":2},{"lat":"25.07179","lng":"121.64143","count":1},{"lat":"25.10096","lng":"121.71137","count":5},{"lat":"25.1012","lng":"121.71232","count":3},{"lat":"25.06747","lng":"121.58276","count":16},{"lat":"25.06508","lng":"121.5889","count":2},{"lat":"25.07308","lng":"121.48296","count":5},{"lat":"25.07083","lng":"121.63868","count":7},{"lat":"25.09745","lng":"121.70552","count":2},{"lat":"25.08469","lng":"121.67454","count":2},{"lat":"25.10152","lng":"121.71305","count":7},{"lat":"25.09716","lng":"121.70459","count":1},{"lat":"25.10206","lng":"121.71617","count":8},{"lat":"25.06979","lng":"121.63706","count":3},{"lat":"25.10313","lng":"121.72097","count":5},{"lat":"25.10104","lng":"121.71115","count":2},{"lat":"24.94384","lng":"121.71115","count":1},{"lat":"25.07277","lng":"121.64848","count":7},{"lat":"25.07324","lng":"121.48512","count":10},{"lat":"25.07855","lng":"121.66361","count":5},{"lat":"25.07214","lng":"121.64458","count":4},{"lat":"25.06853","lng":"121.64458","count":2},{"lat":"25.06468","lng":"121.60837","count":2},{"lat":"25.06691","lng":"121.63101","count":7},{"lat":"25.06491","lng":"121.61034","count":3},{"lat":"25.10141","lng":"121.71327","count":4},{"lat":"25.10676","lng":"121.72498","count":7},{"lat":"25.06639","lng":"121.62511","count":3},{"lat":"25.10163","lng":"121.71425","count":4},{"lat":"25.06495","lng":"121.61151","count":8},{"lat":"25.07211","lng":"121.64338","count":4},{"lat":"25.07739","lng":"121.50322","count":1},{"lat":"25.10069","lng":"121.71025","count":2},{"lat":"25.07474","lng":"121.65693","count":6},{"lat":"25.09847","lng":"121.70714","count":10},{"lat":"25.06588","lng":"121.62036","count":6},{"lat":"25.07268","lng":"121.55293","count":1},{"lat":"25.07034","lng":"121.63784","count":4},{"lat":"25.08573","lng":"121.68335","count":4},{"lat":"25.06368","lng":"121.60053","count":4},{"lat":"25.06919","lng":"121.63648","count":3},{"lat":"25.06807","lng":"121.58169","count":7},{"lat":"25.06598","lng":"121.62017","count":6},{"lat":"25.06607","lng":"121.62116","count":7},{"lat":"25.06856","lng":"121.43786","count":15},{"lat":"25.06397","lng":"121.59188","count":8},{"lat":"25.07442","lng":"121.47248","count":6},{"lat":"25.06553","lng":"121.37528","count":1},{"lat":"25.07779","lng":"121.51112","count":3},{"lat":"25.07326","lng":"121.65141","count":2},{"lat":"25.07348","lng":"121.47631","count":16},{"lat":"25.06462","lng":"121.38007","count":1},{"lat":"25.06904","lng":"121.57892","count":3},{"lat":"25.06322","lng":"121.41847","count":2},{"lat":"25.07555","lng":"121.46546","count":9},{"lat":"24.97743","lng":"121.46546","count":5},{"lat":"25.06783","lng":"121.43116","count":2},{"lat":"25.07394","lng":"121.47516","count":26},{"lat":"25.07371","lng":"121.47535","count":17},{"lat":"25.0684","lng":"121.4369","count":7},{"lat":"25.07419","lng":"121.47344","count":1},{"lat":"25.0768","lng":"121.51817","count":1},{"lat":"25.07637","lng":"121.5201","count":2},{"lat":"25.07077","lng":"121.44643","count":2},{"lat":"25.06769","lng":"121.58259","count":17},{"lat":"25.07698","lng":"121.51721","count":2},{"lat":"25.07273","lng":"121.54798","count":3},{"lat":"25.07467","lng":"121.4723","count":1},{"lat":"25.0727","lng":"121.55096","count":1},{"lat":"25.07758","lng":"121.51408","count":15},{"lat":"25.07353","lng":"121.52845","count":2},{"lat":"25.07773","lng":"121.5121","count":2},{"lat":"25.07514","lng":"121.65783","count":5},{"lat":"25.07235","lng":"121.53296","count":2},{"lat":"25.07087","lng":"121.56232","count":2},{"lat":"25.07466","lng":"121.65713","count":3},{"lat":"25.06812","lng":"121.43393","count":2},{"lat":"25.07553","lng":"121.46447","count":2},{"lat":"25.06874","lng":"121.57985","count":2},{"lat":"25.07514","lng":"121.46153","count":2},{"lat":"25.07275","lng":"121.54601","count":2},{"lat":"25.07764","lng":"121.50519","count":20},{"lat":"24.9615","lng":"121.53112","count":5},{"lat":"24.97494","lng":"121.45526","count":2},{"lat":"24.96291","lng":"121.5299","count":6},{"lat":"25.09208","lng":"121.66205","count":2},{"lat":"25.11359","lng":"121.68853","count":2},{"lat":"25.12302","lng":"121.69726","count":4},{"lat":"25.13814","lng":"121.71277","count":3},{"lat":"25.13545","lng":"121.70536","count":2},{"lat":"25.0909","lng":"121.65827","count":2},{"lat":"25.08665","lng":"121.6509","count":1},{"lat":"25.11309","lng":"121.68773","count":3},{"lat":"24.97935","lng":"121.49985","count":2},{"lat":"24.97487","lng":"121.45823","count":2},{"lat":"25.10828","lng":"121.68483","count":6},{"lat":"25.08331","lng":"121.64938","count":1},{"lat":"25.12063","lng":"121.69617","count":1},{"lat":"25.11704","lng":"121.69318","count":5},{"lat":"25.11435","lng":"121.68917","count":2},{"lat":"25.1109","lng":"121.68595","count":1},{"lat":"25.08601","lng":"121.65022","count":2},{"lat":"25.13961","lng":"121.71529","count":76},{"lat":"25.13694","lng":"121.71008","count":3},{"lat":"24.97027","lng":"121.44429","count":2},{"lat":"24.98868","lng":"121.48304","count":6},{"lat":"24.96518","lng":"121.52775","count":4},{"lat":"25.11477","lng":"121.69004","count":1},{"lat":"25.11294","lng":"121.68784","count":4},{"lat":"24.96362","lng":"121.5293","count":3},{"lat":"24.96106","lng":"121.54408","count":3},{"lat":"24.96623","lng":"121.44201","count":5},{"lat":"24.97316","lng":"121.55421","count":5},{"lat":"24.98451","lng":"121.47452","count":2},{"lat":"25.13743","lng":"121.71088","count":3},{"lat":"25.04596","lng":"121.62557","count":2},{"lat":"24.97314","lng":"121.55389","count":12},{"lat":"24.98682","lng":"121.47756","count":2},{"lat":"25.07548","lng":"121.64682","count":1},{"lat":"24.95865","lng":"121.53487","count":2},{"lat":"24.98575","lng":"121.49108","count":3},{"lat":"24.9686","lng":"121.44352","count":4},{"lat":"24.97021","lng":"121.44447","count":2},{"lat":"24.96474","lng":"121.44084","count":1},{"lat":"25.03081","lng":"121.61321","count":2},{"lat":"25.02933","lng":"121.61069","count":1},{"lat":"24.96806","lng":"121.52538","count":2},{"lat":"25.08244","lng":"121.64908","count":2},{"lat":"25.00658","lng":"121.64908","count":2},{"lat":"24.98391","lng":"121.47378","count":6},{"lat":"24.98812","lng":"121.48692","count":4},{"lat":"24.98331","lng":"121.47305","count":2},{"lat":"24.97497","lng":"121.45427","count":3},{"lat":"25.12045","lng":"121.69631","count":1},{"lat":"25.10747","lng":"121.68437","count":4},{"lat":"24.97433","lng":"121.51976","count":1},{"lat":"25.1397","lng":"121.7152","count":206},{"lat":"25.10184","lng":"121.7152","count":5},{"lat":"25.11151","lng":"121.68662","count":1},{"lat":"25.13664","lng":"121.70914","count":1},{"lat":"24.96734","lng":"121.52597","count":2},{"lat":"24.97084","lng":"121.5234","count":7},{"lat":"24.98791","lng":"121.48846","count":5},{"lat":"25.02453","lng":"121.60345","count":4},{"lat":"25.13371","lng":"121.70184","count":1},{"lat":"25.09716","lng":"121.70184","count":2},{"lat":"25.1268","lng":"121.6976","count":3},{"lat":"24.97543","lng":"121.46233","count":4},{"lat":"25.133","lng":"121.70118","count":3},{"lat":"24.98089","lng":"121.47012","count":1},{"lat":"24.97755","lng":"121.50589","count":1},{"lat":"25.0442","lng":"121.62508","count":1},{"lat":"24.97969","lng":"121.46865","count":2},{"lat":"24.97291","lng":"121.44707","count":2},{"lat":"25.13178","lng":"121.69974","count":2},{"lat":"24.98025","lng":"121.49761","count":1},{"lat":"25.07612","lng":"121.49761","count":1},{"lat":"24.97825","lng":"121.50202","count":1},{"lat":"25.0584","lng":"121.6406","count":1},{"lat":"25.09612","lng":"121.66741","count":2},{"lat":"25.13729","lng":"121.711","count":4},{"lat":"25.0313","lng":"121.61405","count":1},{"lat":"24.96232","lng":"121.53015","count":3},{"lat":"24.97091","lng":"121.52298","count":2},{"lat":"25.12589","lng":"121.69748","count":3},{"lat":"25.13769","lng":"121.7119","count":5},{"lat":"25.1093","lng":"121.685","count":3},{"lat":"25.12215","lng":"121.69702","count":1},{"lat":"25.00339","lng":"121.59565","count":2},{"lat":"24.97693","lng":"121.56397","count":4},{"lat":"25.02575","lng":"121.60493","count":1},{"lat":"24.99194","lng":"121.59316","count":2},{"lat":"24.96939","lng":"121.44399","count":2},{"lat":"25.13414","lng":"121.70274","count":1},{"lat":"25.03326","lng":"121.61741","count":2},{"lat":"25.1175","lng":"121.69402","count":1},{"lat":"25.13863","lng":"121.71361","count":2},{"lat":"25.10768","lng":"121.68411","count":2},{"lat":"25.0756","lng":"121.64674","count":2},{"lat":"25.08587","lng":"121.65038","count":3},{"lat":"24.96708","lng":"121.44234","count":2},{"lat":"25.13091","lng":"121.69927","count":4},{"lat":"25.09305","lng":"121.66373","count":2},{"lat":"25.09795","lng":"121.67084","count":4},{"lat":"25.03428","lng":"121.61907","count":2},{"lat":"25.08344","lng":"121.64924","count":3},{"lat":"25.07304","lng":"121.64924","count":4},{"lat":"25.09853","lng":"121.67273","count":1},{"lat":"25.07027","lng":"121.64516","count":1},{"lat":"25.09759","lng":"121.66992","count":1},{"lat":"24.98794","lng":"121.47897","count":1},{"lat":"24.9584","lng":"121.53582","count":1},{"lat":"24.9886","lng":"121.48501","count":6},{"lat":"24.96866","lng":"121.44333","count":2},{"lat":"24.98688","lng":"121.49008","count":4},{"lat":"25.0484","lng":"121.62685","count":2},{"lat":"24.99722","lng":"121.59434","count":1},{"lat":"24.99918","lng":"121.59434","count":1},{"lat":"25.00605","lng":"121.59618","count":3},{"lat":"25.13825","lng":"121.71267","count":2},{"lat":"25.03179","lng":"121.61489","count":1},{"lat":"25.08083","lng":"121.64839","count":1},{"lat":"25.08418","lng":"121.64968","count":2},{"lat":"25.10526","lng":"121.68276","count":4},{"lat":"24.95979","lng":"121.54234","count":1},{"lat":"24.98627","lng":"121.47678","count":2},{"lat":"25.03387","lng":"121.61811","count":3},{"lat":"24.95853","lng":"121.53974","count":1},{"lat":"24.97799","lng":"121.50297","count":4},{"lat":"25.13873","lng":"121.71352","count":4},{"lat":"25.09363","lng":"121.66449","count":2},{"lat":"25.00537","lng":"121.59569","count":4},{"lat":"24.97021","lng":"121.5236","count":9},{"lat":"25.04509","lng":"121.62529","count":1},{"lat":"25.05066","lng":"121.62856","count":2},{"lat":"25.10687","lng":"121.68367","count":2},{"lat":"25.06864","lng":"121.64448","count":1},{"lat":"24.96164","lng":"121.53078","count":3},{"lat":"25.09715","lng":"121.66904","count":2},{"lat":"25.11421","lng":"121.68927","count":2},{"lat":"25.13709","lng":"121.70996","count":3},{"lat":"25.03978","lng":"121.62403","count":2},{"lat":"24.97692","lng":"121.56298","count":6},{"lat":"24.97562","lng":"121.57274","count":2},{"lat":"24.97423","lng":"121.44964","count":2},{"lat":"24.97477","lng":"121.45452","count":1},{"lat":"25.07462","lng":"121.64655","count":1},{"lat":"24.96546","lng":"121.44145","count":4},{"lat":"25.05826","lng":"121.64076","count":1},{"lat":"25.12927","lng":"121.69843","count":3},{"lat":"24.98733","lng":"121.47837","count":2},{"lat":"24.27582","lng":"120.70786","count":1},{"lat":"23.82536","lng":"120.70786","count":1},{"lat":"24.2778","lng":"120.71586","count":1},{"lat":"24.27013","lng":"120.69051","count":1},{"lat":"24.30083","lng":"120.62799","count":2},{"lat":"24.28342","lng":"120.66277","count":2},{"lat":"24.27127","lng":"120.69302","count":2},{"lat":"24.50448","lng":"120.79863","count":2},{"lat":"24.41376","lng":"120.77433","count":1},{"lat":"24.45143","lng":"120.78293","count":4},{"lat":"24.31659","lng":"120.70411","count":1},{"lat":"24.35047","lng":"120.72997","count":2},{"lat":"24.50644","lng":"120.80317","count":1},{"lat":"24.27608","lng":"120.67105","count":3},{"lat":"24.06025","lng":"120.67105","count":1},{"lat":"24.03029","lng":"120.67105","count":1},{"lat":"24.51426","lng":"120.81085","count":1},{"lat":"24.40846","lng":"120.77103","count":2},{"lat":"24.31091","lng":"120.70112","count":7},{"lat":"24.6715","lng":"120.89096","count":5},{"lat":"24.68097","lng":"120.90713","count":1},{"lat":"24.70116","lng":"120.92611","count":8},{"lat":"24.45969","lng":"120.78702","count":1},{"lat":"24.24891","lng":"120.69037","count":3},{"lat":"24.3189","lng":"120.70565","count":4},{"lat":"24.5063","lng":"120.80315","count":1},{"lat":"25.03473","lng":"121.6233","count":14},{"lat":"24.98923","lng":"121.6576","count":1},{"lat":"25.03418","lng":"121.62519","count":1},{"lat":"25.03475","lng":"121.62438","count":1},{"lat":"24.66882","lng":"121.7966","count":2},{"lat":"24.94934","lng":"121.70112","count":1},{"lat":"24.9894","lng":"121.65758","count":5},{"lat":"24.63512","lng":"121.80621","count":1},{"lat":"24.66716","lng":"121.79729","count":2},{"lat":"24.9472","lng":"121.70543","count":1},{"lat":"24.84744","lng":"121.79138","count":1},{"lat":"24.7294","lng":"121.78355","count":2},{"lat":"24.6334","lng":"121.80666","count":2},{"lat":"24.70553","lng":"121.79053","count":3},{"lat":"24.70089","lng":"121.79077","count":3},{"lat":"24.69466","lng":"121.79077","count":3},{"lat":"24.71253","lng":"121.78917","count":2},{"lat":"24.94211","lng":"121.71194","count":2},{"lat":"24.68605","lng":"121.79182","count":3},{"lat":"24.8169","lng":"121.78151","count":2},{"lat":"24.98473","lng":"121.66047","count":1},{"lat":"25.01074","lng":"121.64529","count":1},{"lat":"24.97506","lng":"121.67722","count":1},{"lat":"25.004","lng":"121.65041","count":1},{"lat":"25.0064","lng":"121.64909","count":1},{"lat":"24.75376","lng":"121.77897","count":7},{"lat":"24.77226","lng":"121.77897","count":3},{"lat":"24.73557","lng":"121.78188","count":5},{"lat":"24.67632","lng":"121.79435","count":3},{"lat":"24.69044","lng":"121.79107","count":4},{"lat":"24.84794","lng":"121.79107","count":1},{"lat":"24.75136","lng":"121.77994","count":1},{"lat":"24.82867","lng":"121.79012","count":1},{"lat":"24.80642","lng":"121.78221","count":5},{"lat":"24.70973","lng":"121.78976","count":9},{"lat":"24.69843","lng":"121.79088","count":2},{"lat":"24.70818","lng":"121.79015","count":9},{"lat":"24.69221","lng":"121.79092","count":6},{"lat":"24.63569","lng":"121.80596","count":1},{"lat":"24.76443","lng":"121.77826","count":6},{"lat":"24.68692","lng":"121.79163","count":1},{"lat":"24.67545","lng":"121.79459","count":3},{"lat":"24.62656","lng":"121.80878","count":9},{"lat":"24.72684","lng":"121.78442","count":6},{"lat":"24.66555","lng":"121.79812","count":2},{"lat":"24.68323","lng":"121.79246","count":3},{"lat":"24.64299","lng":"121.80471","count":3},{"lat":"24.80383","lng":"121.78263","count":6},{"lat":"24.81517","lng":"121.78108","count":2},{"lat":"24.81074","lng":"121.78108","count":2},{"lat":"24.7071","lng":"121.79024","count":3},{"lat":"24.66301","lng":"121.79961","count":2},{"lat":"24.71681","lng":"121.78787","count":3},{"lat":"24.63772","lng":"121.80553","count":4},{"lat":"24.69288","lng":"121.79082","count":4},{"lat":"24.67224","lng":"121.79555","count":4},{"lat":"24.77944","lng":"121.7782","count":1},{"lat":"24.78033","lng":"121.7782","count":3},{"lat":"24.78808","lng":"121.77962","count":1},{"lat":"24.7522","lng":"121.77962","count":3},{"lat":"24.79404","lng":"121.78161","count":2},{"lat":"24.73822","lng":"121.78161","count":2},{"lat":"24.72021","lng":"121.78673","count":2},{"lat":"24.75291","lng":"121.77927","count":3},{"lat":"24.68845","lng":"121.79125","count":6},{"lat":"24.64359","lng":"121.80458","count":1},{"lat":"24.64714","lng":"121.80458","count":1},{"lat":"24.71919","lng":"121.787","count":7},{"lat":"24.65622","lng":"121.80371","count":3},{"lat":"24.65596","lng":"121.80371","count":3},{"lat":"24.72106","lng":"121.78645","count":3},{"lat":"24.8229","lng":"121.78556","count":6},{"lat":"24.71748","lng":"121.78756","count":3},{"lat":"24.65188","lng":"121.80467","count":2},{"lat":"24.74882","lng":"121.78084","count":2},{"lat":"24.68409","lng":"121.79223","count":6},{"lat":"24.69755","lng":"121.79086","count":2},{"lat":"24.69199","lng":"121.79086","count":8},{"lat":"24.69488","lng":"121.79086","count":3},{"lat":"24.7011","lng":"121.79086","count":4},{"lat":"24.69666","lng":"121.79086","count":1},{"lat":"24.84707","lng":"121.79086","count":4},{"lat":"24.72514","lng":"121.78499","count":6},{"lat":"24.76254","lng":"121.77791","count":4},{"lat":"24.76","lng":"121.77791","count":1},{"lat":"24.68087","lng":"121.79319","count":2},{"lat":"24.66611","lng":"121.7977","count":4},{"lat":"24.64093","lng":"121.80481","count":2},{"lat":"24.75038","lng":"121.78022","count":2},{"lat":"24.81251","lng":"121.78089","count":4},{"lat":"24.64122","lng":"121.80488","count":4},{"lat":"24.67397","lng":"121.79508","count":4},{"lat":"24.72871","lng":"121.78388","count":3},{"lat":"24.65762","lng":"121.80302","count":4},{"lat":"24.73296","lng":"121.78246","count":1},{"lat":"24.80648","lng":"121.78229","count":3},{"lat":"24.80198","lng":"121.78257","count":3},{"lat":"24.7106","lng":"121.78957","count":9},{"lat":"24.64034","lng":"121.805","count":3},{"lat":"24.63223","lng":"121.80687","count":2},{"lat":"24.72344","lng":"121.78557","count":4},{"lat":"24.65868","lng":"121.8026","count":7},{"lat":"24.67718","lng":"121.79411","count":1},{"lat":"24.80205","lng":"121.78266","count":1},{"lat":"24.80294","lng":"121.78266","count":1},{"lat":"24.81346","lng":"121.78098","count":2},{"lat":"24.81257","lng":"121.78098","count":2},{"lat":"24.68236","lng":"121.79269","count":1},{"lat":"24.67373","lng":"121.79506","count":4},{"lat":"24.72446","lng":"121.7853","count":3},{"lat":"24.66774","lng":"121.79692","count":2},{"lat":"24.66798","lng":"121.79692","count":1},{"lat":"24.8134","lng":"121.78088","count":4},{"lat":"24.7706","lng":"121.77911","count":2},{"lat":"24.73629","lng":"121.78168","count":8},{"lat":"24.74267","lng":"121.78168","count":1},{"lat":"24.76089","lng":"121.7779","count":2},{"lat":"24.6815","lng":"121.79293","count":3},{"lat":"24.75388","lng":"121.779","count":6},{"lat":"24.76882","lng":"121.779","count":1},{"lat":"24.75474","lng":"121.77874","count":1},{"lat":"24.82159","lng":"121.78423","count":6},{"lat":"24.76606","lng":"121.77848","count":1},{"lat":"24.80465","lng":"121.78248","count":5},{"lat":"24.6501","lng":"121.80476","count":6},{"lat":"24.75461","lng":"121.77869","count":8},{"lat":"24.64625","lng":"121.80456","count":2},{"lat":"24.78023","lng":"121.77811","count":1},{"lat":"24.68432","lng":"121.79225","count":5},{"lat":"24.73126","lng":"121.78301","count":2},{"lat":"24.79754","lng":"121.78227","count":5},{"lat":"24.64921","lng":"121.80475","count":5},{"lat":"24.77935","lng":"121.11395","count":1},{"lat":"24.80665","lng":"121.15609","count":2},{"lat":"24.80671","lng":"121.1551","count":4},{"lat":"24.75692","lng":"121.00478","count":2},{"lat":"24.76896","lng":"121.08371","count":5},{"lat":"24.80134","lng":"121.17133","count":2},{"lat":"24.74589","lng":"120.92555","count":1},{"lat":"24.75724","lng":"120.98743","count":5},{"lat":"24.75798","lng":"120.97088","count":4},{"lat":"24.75753","lng":"120.9728","count":3},{"lat":"24.75643","lng":"121.00203","count":2},{"lat":"24.7486","lng":"120.92822","count":2},{"lat":"24.75687","lng":"121.00676","count":4},{"lat":"24.75509","lng":"120.95399","count":3},{"lat":"24.75556","lng":"120.99307","count":1},{"lat":"24.75573","lng":"120.9921","count":1},{"lat":"24.74579","lng":"120.92575","count":1},{"lat":"24.75823","lng":"120.96109","count":2},{"lat":"24.73807","lng":"120.9162","count":2},{"lat":"24.75279","lng":"120.94259","count":3},{"lat":"24.74171","lng":"120.92181","count":4},{"lat":"24.75656","lng":"121.00184","count":1},{"lat":"24.75693","lng":"121.00577","count":1},{"lat":"24.75668","lng":"121.00695","count":1},{"lat":"24.75784","lng":"120.97967","count":3},{"lat":"24.7584","lng":"120.96896","count":3},{"lat":"24.74226","lng":"120.9227","count":1},{"lat":"24.7629","lng":"121.03919","count":4},{"lat":"24.75567","lng":"120.99134","count":1},{"lat":"24.76016","lng":"121.03302","count":3},{"lat":"24.75354","lng":"120.95042","count":2},{"lat":"24.75774","lng":"120.97183","count":3},{"lat":"24.76206","lng":"121.03638","count":4},{"lat":"24.75396","lng":"121.01739","count":5},{"lat":"24.75572","lng":"121.01153","count":2},{"lat":"24.75542","lng":"120.9923","count":2},{"lat":"24.76767","lng":"121.08227","count":6},{"lat":"24.73163","lng":"120.90558","count":7},{"lat":"24.75235","lng":"120.93474","count":3},{"lat":"24.73606","lng":"120.91177","count":3},{"lat":"24.75797","lng":"120.98065","count":2},{"lat":"24.73729","lng":"120.91442","count":1},{"lat":"24.75673","lng":"121.00774","count":2},{"lat":"24.75635","lng":"121.00088","count":3},{"lat":"24.76326","lng":"121.04095","count":2},{"lat":"24.73282","lng":"120.90715","count":1},{"lat":"24.75264","lng":"120.94578","count":4},{"lat":"24.75866","lng":"120.96501","count":3},{"lat":"24.7812","lng":"121.11827","count":4},{"lat":"24.77174","lng":"121.08616","count":1},{"lat":"24.76321","lng":"121.03996","count":3},{"lat":"24.74049","lng":"120.92036","count":1},{"lat":"24.75508","lng":"121.01338","count":5},{"lat":"24.75554","lng":"120.99702","count":3},{"lat":"24.75599","lng":"121.00011","count":2},{"lat":"24.75677","lng":"121.00497","count":2},{"lat":"24.75295","lng":"120.93863","count":1},{"lat":"24.72524","lng":"120.93863","count":1},{"lat":"24.76268","lng":"121.03823","count":2},{"lat":"24.75283","lng":"120.94655","count":2},{"lat":"24.80689","lng":"121.14991","count":2},{"lat":"24.8041","lng":"121.13951","count":1},{"lat":"24.74933","lng":"120.92873","count":1},{"lat":"24.76032","lng":"121.05109","count":3},{"lat":"24.79833","lng":"121.17624","count":3},{"lat":"24.75556","lng":"120.99819","count":2},{"lat":"24.75224","lng":"120.93494","count":1},{"lat":"24.74515","lng":"120.92498","count":3},{"lat":"24.75756","lng":"120.97772","count":3},{"lat":"24.75842","lng":"120.96206","count":3},{"lat":"24.75691","lng":"120.98835","count":1},{"lat":"24.79662","lng":"121.18081","count":3},{"lat":"24.79297","lng":"121.12693","count":4},{"lat":"24.75982","lng":"121.05191","count":4},{"lat":"24.76215","lng":"121.04769","count":1},{"lat":"24.75634","lng":"121.06221","count":2},{"lat":"24.80646","lng":"121.14819","count":2}]';

        //var datalen = data.length,
        //    features = [];
        var features = [];
        var sphericalMercatorProj = new OpenLayers.Projection('EPSG:900913'),
            geographicProj = new OpenLayers.Projection('EPSG:4326');

        map = new OpenLayers.Map('heatmapArea');
        map.addControl(new OpenLayers.Control.LayerSwitcher());
        layer = new OpenLayers.Layer.OSM();

        //alert(datalen);
        var hxy_array = document.getElementById('hmapxy').value.split(';');
        //alert(hxy_array.length);
        for (var i = 0; i < hxy_array.length - 1; i++) {
            var hxy = hxy_array[i].split(',');
/*
            var vectorLayer = new OpenLayers.Layer.Vector("Overlay");

	    var points = [
		new OpenLayers.Geometry.Point(hxy[0],hxy[1]).transform(geographicProj, sphericalMercatorProj),
		new OpenLayers.Geometry.Point(hxy[2],hxy[3]).transform(geographicProj, sphericalMercatorProj)
	    ];

	    var feature = new OpenLayers.Feature.Vector(
		new OpenLayers.Geometry.LineString(points)
	    );

	    vectorLayer.addFeatures(feature);
	    map.addLayer(vectorLayer);
*/
            var g = new OpenLayers.Geometry.Point(hxy[0], hxy[1]);
            g.transform(geographicProj, sphericalMercatorProj);
            features.push(
                new OpenLayers.Feature.Vector(g, { count: hxy[2] })
            );
        }

        /*
        while (datalen--) {
            var g = new OpenLayers.Geometry.Point(data[datalen].lon, data[datalen].lat);
            g.transform(geographicProj, sphericalMercatorProj);
            features.push(
                new OpenLayers.Feature.Vector(g, { count: data[datalen].count })
            );
        }
        */

        // create our vectorial layer using heatmap renderer
        heatmap = new OpenLayers.Layer.Vector("Heatmap Layer", {
            opacity: 0.3,
            renderers: ['Heatmap'],
            strategies: [new OpenLayers.Strategy.Cluster({ distance: 1 })],
            rendererOptions: {
                weight: function (feature) {
                    var weight = 0,
                        features = feature.cluster;
                    for (var i = 0, len = features.length; i < len; i++) {
                        weight += features[i].attributes.count; // `count` from data array.
                    }
                    return (weight ? Math.log(weight) : 0);
                },
                heatmapConfig: {
                    radius: 10
                }
            }
        });
        map.addLayers([layer, heatmap]);
        // Features are added after adding the layer to the map to ensure
        //    that the Cluster strategy is active.
        heatmap.addFeatures(features);
        var fromProjection = new OpenLayers.Projection("EPSG:4326");
        var toProjection = new OpenLayers.Projection("EPSG:900913");
        var position = new OpenLayers.LonLat(121.0, 23.4).transform(fromProjection, toProjection);
        var zoom = 7;
        map.setCenter(position, zoom);
        //map.zoomToMaxExtent();
        map.zoomIn();
    }

    window.onload = function () {
        init();
    };
</script>
</html>
